# **keyestudio 4X4X4 RGB LED CUBE KIT**

![](media/88f2c3c3c8735d5f90099ee7afb53736.jpeg)

## 1.Introduction

keyestudio 4*4*4 RGB LED CUBE KIT consist of 64 RGB LEDs soldered in the
combination of 4*4*4. It's then driven by ARDUINO. RGB LED CUBE emits a warm
light, which is enjoyable for people of any age. You can also use it as a mood
light, or create your own "ambient device" that gently notifies you of new
emails or instant messages!

The RGB LED CUBE KIT is supplied as a partly-assembled kit:

The controller board is based on an Arduino-compatible 8*8 LED RGB Matrix
driver board. All RGB LEDs are soldered to the plane PCB, and tested okay. You
just need to solder and assemble the 3D matrix.

The RGB LED CUBE KIT comes with a sketch pre-installed that runs through a test
pattern.

## 2.Features

• 64 RGB LEDs

• Simple assembly using a PCB frame

• 8*8 LED RGB Matrix driver board (Arduino compatible)

• 7-12V independent power supply

• Arduino driver library with example programs

## 3.Part List

![](media/6ddb73e5122ce6505953d1fbfd4546e7.jpeg)

1: controller 8*8 LED RGB Matrix driver board (1 PCS)

2: soldering fixture (1 PCS)

3: top acrylic board (1 PCS)

4: bottom acrylic board (1 PCS)

![](media/4ecc481b971c8a450b4c06626743f98b.jpeg)5, 6, 7, 8: acrylic side boards,
in which 5 and 7 is identical ( 4 in total)

![](media/fcf75a07b48d56c09ebbd962a9fb8d09.jpeg)

1: plane PCB strips with LEDs (16 PCS)

2: holder bottom board(1 PCS)

3: fixing strips for the PCB strips (8 PCS)

4: copper bush (4 PCS)

5: 16P header strips（2 PCS）

6: 3*10 inner hexagon screw（4 PCS）

7: 3M nut（4 PCS）

8: holder stick (8 PCS)

9: DC socket (1 PCS)

10: 3*6 inner hexagon screw（8 PCS）

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

self-prepared tools: Soldering iron & solder

## 4.Soldering instructions:

1). Bottom board soldering

![](media/c015df1daa28b5da94d951e5a5cda995.jpeg)

Plug the two 16P header strips vertically onto the holes of the bottom board
(the side with no keyestudio logo facing up as above pic. shown ) , then solder
the pins.

![](media/8daa17868900ac6860b93046afd4db8b.jpeg)

Adjust the header strip for it to be vertical to the board, then solder it.

2). Soldering of plane PCB strips with LEDs

![](media/8ffd02679f3682a5a0de65879a72a297.jpeg)

Disassemble the plane PCBs as above pic. shows.

![](media/cd0def822e5f04a82315909408066f7e.jpeg)

Next, disassemble the fixing strips for the PCB strips.

![](media/8f604bdcdacc39ada0802c9ac6000efc.jpeg)

Set the 4 copper bushes in standing position, place 4 plane PCB strips to the
soldering fixture. The black lines on the plane PCBs are position indicators for
latter soldering of fixing strips.

![](media/d65bd771fe4c7fad69ca0fb567401b03.jpeg)

Place the soldering fixture on top of the 4 copper bushes, then place two fixing
strips between the black indicator lines, then add solder to the 8 solder points
for fixing. （Notice: the solder point of fixing strip should be close to solder
point of 4 plane PCB strips )

![](media/617004bf60c01822ee2b427c39293e78.jpeg)

Above is a pic. when you finish soldering of the 8 soldering points.

![](media/b3cd3428407795fd9903750d27cc5cd6.jpeg)

Repeat the above steps to finish the other three.

3). Install the holder sticks

![](media/ebcc9de38e1ecb388502fa8af181440a.jpeg)

Every holder stick has a dedicated position, so before installation, pls read
this instruction for the positioning of each stick. As above pic. shows, stick A
belongs to hole A of the bottom board, stick B belongs to hole B and etc. 8
sticks for 8 holes correspondingly.

![](media/4e326a4a7476d1aa8929491427074e4e.jpeg)

As above picture, position the 4 soldered plane PCBs in a uniform direction.
Install stick A on the recess area. And don’t solder just yet!

![](media/9ff2de28a163c8ab317c064e33558619.jpeg)

Repeat above step and install stick C, E and G.

![](media/a38ba967d66ccac692d6cae225dfc0d0.jpeg)

Install stick B on the recess area. And don’t solder just yet!

![](media/86558622b8b9a831508a743fda185ab6.jpeg)

Repeat the above step and install stick D, F, and H.

![](media/a75628e7f168cc74a6ec88a85f9d2a35.jpeg)

Plug the above assembled part into the bottom board.

![](media/015080b44eecfc2b0afb0703c94a20c5.jpeg)

After plugging in, adjust the assembled part and the bottom board for them to be
in vertical position.

![](media/fc589120c744dbbeb8cecf8f90ebfb94.jpeg)

Next, add solder to the solder pad areas. For places where solder pads are only
on the plane PCBs but not the sticks, they don’t need to be soldered.

![](media/eb4cfe75535d159dc60caa334da2d8ec.jpeg)

Then add solder to the solder pads between the bottom board and the sticks.
After all solder pads are soldered, check to see if there are areas left. Above
is a pic. with soldering finished.

4). Install the assembled parts

![](media/c772cb71dccd1b21c7c09d0ad7bb7bf3.jpeg)

Use 4 3\*6 screws to fix the 4 copper bushes onto the acrylic bottom boards.

![](media/53b368961255210963890ae8263a26e7.jpeg)

Next, fix the driver board onto the copper bushes using 3\*6 screws in a
direction as above pic.

Note: the control board has a toggle switch, if connecting external DC 7-12V
power, toggle switch must be set to Header terminal, or else it will burn out
the control board; if set to Terminal terminal, external power only can accept
5V.

![](media/02ee4ffa77532acad36c62057e2a54b9.jpeg)

Strip a Dupont wire, solder the copper wire to the driver board as above pic.

![](media/4c8b9774f62f3beafca58d319b755c5c.jpeg)

Install the DC socket to the acrylic side board 5, the direction as above
picture.

![](media/61155a8aca036296604330f95b4504f6.jpeg)

Install the acrylic side board 5 to the bottom board. Then solder the copper
wire, the one close to the screw to the shorter lead of the DC socket (positive
end), the other copper wire solder to the longer lead (negative end).

![](media/a65cfdd715eea0cf274628434d4301d0.jpeg)

Plug the header pins of the bottom board(direction as above pic.) to the female
headers of VCC, GREEN, VCC of the driver board, pay attention not to reverse.

![](media/21768dfdd77610f663e9df22055449a1.jpeg)

Place the other 3 side boards according to the shape of groove of the acrylic
bottom board.

Note: The holes of acrylic side boards are aligned with the corresponding
positions of control board.

![](media/b4cb79a222219e0f0f7c138465f8af6a.jpeg)

Place the top acrylic board according to the groove shape.

![](media/7997093655131694f4981e09f1497540.jpeg)

After installation of the top acrylic board, turn the part upside down, use two
3\*10 screws and two 3M nuts to fix the side board.

![](media/6d69df3152c40ec1da2126d45f7bad9c.jpeg)

A pic. after screws fixed.

![](media/6df04f08e5683617c621d161c872fd85.jpeg)

Then, install the screws on the top acrylic board.

![](media/8e37710e5fec709992ed28e6f46806be.jpeg)

All installation finished!

## 5.Projects

### **Wiringwiring table:**

| RGB Matrix driver board | Arduino FTDI basic program downloader |
|-------------------------|---------------------------------------|
| VDD                     | 5V                                    |
| GND                     | GND                                   |
| DTR                     | RST                                   |
| TXD                     | RXD                                   |
| RXD                     | TXD                                   |

### **Connection Diagram:**

![](media/c2de87cffe9134c633f797c5ae9a12b0.jpeg)

Import library files and select the corresponding control board type and port

After wiring successfully, connect the FT232 module to the computer with the
mini USB cable.  
Open the product introduction PDF file, observe the code, and find Colorduino.h
library file.

![](media/05ba87e4577b5bb68f1bef93bfcc89ab.png)

Then we put “Colorduino” into the libraries folder of the IDE's installation
address.

![](media/145c3d67ced3bc5e88a8a91cd8a67030.png)

After setting well, open the 1.8.10 version of the IDE, copy the PDF program to
the Arduino IDE, set the board and the COM port (after installing the FT232
module driver, there is a corresponding COM displayed).

![](media/bf2ef8759ce17ebb948cdd80ecbd5dd1.png)

![](media/cf8acb3189898c63f59cb1947bf3803d.png)

Click![](media/d1109ce61f69d12577b95cab6ab0e259.png) and upload program，Upload
successfully.

![](media/235b984c2120c4b02d275a8f9b47422c.png)

### **Sample Code:**


    \##include \<Colorduino.h\>

    typedef struct

    {

    unsigned char r;

    unsigned char g;

    unsigned char b;

    } ColorRGB;

    //a color with 3 components: h, s and v

    typedef struct

    {

    unsigned char h;

    unsigned char s;

    unsigned char v;

    } ColorHSV;

    unsigned char plasma[ColorduinoScreenWidth][ColorduinoScreenHeight];

    long paletteShift;

    //Converts an HSV color to RGB color

    /\*void HSVtoRGB(void \*vRGB, void \*vHSV) /////////////////////////////////////

    {float r, g, b, h, s, v; //this function works with floats between 0 and 1

    float f, p, q, t;

    int i;

    ColorRGB \*colorRGB=(ColorRGB \*)vRGB;

    ColorHSV \*colorHSV=(ColorHSV \*)vHSV;

    h = (float)(colorHSV-\>h / 256.0);

    s = (float)(colorHSV-\>s / 256.0);

    v = (float)(colorHSV-\>v / 256.0);

    //if saturation is 0, the color is a shade of grey

    if(s == 0.0) {

    b = v;

    g = b;

    r = g;

    }

    //if saturation \> 0, more complex calculations are needed

    else

    {

    h \*= 6.0; //to bring hue to a number between 0 and 6, better for the
    calculations

    i = (int)(floor(h)); //e.g. 2.7 becomes 2 and 3.01 becomes 3 or 4.9999 becomes 4

    f = h - i;//the fractional part of h

    p = (float)(v \* (1.0 - s));

    q = (float)(v \* (1.0 - (s \* f)));

    t = (float)(v \* (1.0 - (s \* (1.0 - f))));

    switch(i)

    {

    case 0: r=v; g=t; b=p; break;

    case 1: r=q; g=v; b=p; break;

    case 2: r=p; g=v; b=t; break;

    case 3: r=p; g=q; b=v; break;

    case 4: r=t; g=p; b=v; break;

    case 5: r=v; g=p; b=q; break;

    default: r = g = b = 0; break;

    }

    }

    colorRGB-\>r = (int)(r \* 255.0);

    colorRGB-\>g = (int)(g \* 255.0);

    colorRGB-\>b = (int)(b \* 255.0);

    }

    float dist(float a, float b, float c, float
    d)///////////////////////////////////////////////////////

    {

    return sqrt((c-a)\*(c-a)+(d-b)\*(d-b));

    }

    void plasma_morph() //////////////////////////////////////////////

    {

    unsigned char x,y;

    float value;

    ColorRGB colorRGB;

    ColorHSV colorHSV;

    for(y = 0; y \< ColorduinoScreenHeight; y++)

    for(x = 0; x \< ColorduinoScreenWidth; x++) {

    {

    value = sin(dist(x + paletteShift, y, 128.0, 128.0) / 8.0)

    \+ sin(dist(x, y, 64.0, 64.0) / 8.0)

    \+ sin(dist(x, y + paletteShift / 7, 192.0, 64) / 7.0)

    \+ sin(dist(x, y, 192.0, 100.0) / 8.0);

    colorHSV.h=(unsigned char)((value) \* 128)&0xff;

    colorHSV.s=255;

    colorHSV.v=255;

    HSVtoRGB(&colorRGB, \&colorHSV);

    Colorduino.SetPixel(x, y, colorRGB.r, colorRGB.g, colorRGB.b);

    }

    }

    paletteShift++;

    Colorduino.FlipPage(); // swap screen buffers to show it

    }\*/

    /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

    Name: ColorFill

    Function: Fill the frame with a color

    Parameter:R: the value of RED. Range:RED 0\~255

    G: the value of GREEN. Range:RED 0\~255

    B: the value of BLUE. Range:RED 0\~255

    \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

    void ColorFill(unsigned char R,unsigned char G,unsigned char B)

    {

    PixelRGB \*p = Colorduino.GetPixel(0,0);

    for (unsigned char y=0;y\<ColorduinoScreenWidth;y++) {

    for(unsigned char x=0;x\<ColorduinoScreenHeight;x++) {

    p-\>r = R;

    p-\>g = G;

    p-\>b = B;

    p++;

    }

    }

    Colorduino.FlipPage();

    }

    void setup()

    {

    Colorduino.Init(); // initialize the board

    // compensate for relative intensity differences in R/G/B brightness

    // array of 6-bit base values for RGB (0\~63)

    // whiteBalVal[0]=red

    // whiteBalVal[1]=green

    // whiteBalVal[2]=blue

    //http://keyes-arduino.taobao.com

    unsigned char whiteBalVal[3] = {36,63,63}; // for LEDSEE 6x6cm round matrix

    Colorduino.SetWhiteBal(whiteBalVal);

    // start with morphing plasma, but allow going to color cycling if desired.

    paletteShift=128000;

    unsigned char bcolor;

    //generate the plasma once

    /\*for(unsigned char y = 0; y \< ColorduinoScreenHeight; y++)

    for(unsigned char x = 0; x \< ColorduinoScreenWidth; x++)

    {

    //the plasma buffer is a sum of sines

    bcolor = (unsigned char)

    (

    128.0 + (128.0 \* sin(x\*8.0 / 16.0))

    \+ 128.0 + (128.0 \* sin(y\*8.0 / 16.0))

    ) / 2;

    plasma[x][y] = bcolor;

    }\*/

    // to adjust white balance you can uncomment this line

    // and comment out the plasma_morph() in loop()

    // and then experiment with whiteBalVal above

    ColorFill(0,0,0);

    }

    void loop()

    {

    //plasma_morph();

    ColorFill(255,0,0);

    delay(2000);

    ColorFill(0,255,0);

    delay(2000);

    ColorFill(0,0,255);

    delay(2000);

    // ColorFill(255,255,255);

    // delay(1000);

    }



![](media/fbd1762294b0753f823e1a5775f7abfd.jpeg)

After program is uploaded, with power on , you can see the beautiful light
effect.

## 6.Resources link needed for the project

ARTDUINO software download address: <https://www.arduino.cc/en/Main/Software>

Arduino official address: <https://www.arduino.cc/>

Keyestudio official address: <https://www.keyestudio.com>

Project library: https://fs.keyestudio.com/KS0177

For reference: <http://www.hownottoengineer.com/projects/rgb-led-cube.html>

<http://www.instructables.com/id/4x4x4-RGB-LED-Cube/>
